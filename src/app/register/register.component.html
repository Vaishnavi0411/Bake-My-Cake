<div class="cake-image">
  <div class="form">
    <h1 class="header">{{title}}</h1>
    <form [formGroup]="registerForm" class="register-form" (ngSubmit)="saveUser()">
      <div>
        <mat-form-field class="full-width">
          <mat-label>User Name</mat-label>
          <input matInput formControlName="userName">
          <mat-error class="error" *ngIf="userName?.errors?.['required']">
            First Name is required
          </mat-error>
          <mat-error class="error" *ngIf="userName?.errors?.['minlength']">
            Minimum 2 characters required
          </mat-error>
          <mat-error class="error" *ngIf="userName?.errors?.['pattern']">
            Only alphabets are allowed
          </mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field class="full-width">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email">
          <mat-error *ngIf="email?.errors?.['required']">Email is required </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('pattern') && registerForm.get('email')?.touched">
            Enter valid email address
          </mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field class="full-width">
          <mat-label>Password</mat-label>
          <input matInput formControlName="password">
          <mat-error *ngIf="password?.errors?.['required']">Password is required </mat-error>
          <mat-error *ngIf="password?.errors?.['pattern']">Password must contain the specified pattern</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field class="full-width">
          <mat-label>Confirm Password</mat-label>
          <input matInput formControlName="confirmPassword">
          <mat-error *ngIf="confirmPassword?.errors?.['required']">Confirm Password is required </mat-error>
          <mat-error *ngIf="confirmPassword?.errors?.['pattern']"> Confirm Password must contain the specified
            pattern</mat-error>
          <mat-error *ngIf="registerForm.errors?.['passwordMismatch']">Password and Confirm Password do not
            match</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field class="full-width">
          <mat-label>Phone Number</mat-label>
          <input matInput formControlName="phone">
          <mat-error *ngIf="registerForm.controls.phone.errors?.['pattern']"> Invalid phone number format</mat-error>
        </mat-form-field>
      </div>

      <input type="hidden" formControlName="role">

      <div>
        <div>
          <label id="radio-button">Gender</label>
        </div>
        <mat-radio-group class="gender" aria-label="Select an option" formControlName="gender">
          <mat-radio-button value="Male">Male</mat-radio-button>
          <mat-radio-button value="Female">Female</mat-radio-button>
          <mat-radio-button value="Others">Others</mat-radio-button>
        </mat-radio-group>
      </div>

      <div formGroupName="address">
        <div>
          <label class="user-address">Address</label>
        </div>
        <mat-form-field class="address-field">
          <mat-label>City</mat-label>
          <input matInput formControlName="city">
        </mat-form-field>

        <mat-form-field class="address">
          <mat-label>State</mat-label>
          <input matInput formControlName="state">
        </mat-form-field>

        <div>
          <mat-form-field class="address-field">
            <mat-label>Street</mat-label>
            <input matInput formControlName="street">
          </mat-form-field>

          <mat-form-field class="address" appearance="fill" id="radio">
            <mat-label>Zip Code</mat-label>
            <input matInput formControlName="zipCode">
            <mat-error *ngIf="zipCode?.errors?.['required']">Zip Is Mandatory</mat-error>
            <mat-error *ngIf="zipCode?.errors?.['pattern']">Zip code must be a valid 6-digit number</mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="example-button-row">
        <div class="button">
          <button mat-raised-button color="primary" type="submit" [disabled]="registerForm.invalid">Register</button>
          <button mat-raised-button color="accent" type="reset">Reset</button>
        </div>
      </div>


    </form>
  </div>
</div>